
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="A remote monitoring and management tool">
      
      
        <meta name="author" content="Ylianst and others">
      
      
        <link rel="canonical" href="https://ylianst.github.io/MeshCentral/meshcmd/">
      
      
        <link rel="prev" href="../meshcentral/openidConnectStrategy/">
      
      
        <link rel="next" href="../meshctrl/">
      
      
        
      
      
      <link rel="icon" href="../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.2">
    
    
      
        <title>MeshCmd - MeshCentral Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#meshcmd" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MeshCentral Documentation" class="md-header__button md-logo" aria-label="MeshCentral Documentation" data-md-component="logo">
      
  <img src="../images/favicon.ico" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MeshCentral Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              MeshCmd
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Ylianst/MeshCentral" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Ylianst/MeshCentral
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href=".." class="md-tabs__link">
          
  
  
  Home

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../install/abstract/" class="md-tabs__link">
          
  
  
  Install

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../meshcentral/" class="md-tabs__link">
          
  
  
  MeshCentral

        </a>
      </li>
    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
  
  Submodules and Features

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../how-to-contribute/" class="md-tabs__link">
        
  
  
    
  
  How to Contribute

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../design/" class="md-tabs__link">
        
  
  
    
  
  Design and Architecture

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../other/adfs_sso_guide/" class="md-tabs__link">
          
  
  
  Other

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MeshCentral Documentation" class="md-nav__button md-logo" aria-label="MeshCentral Documentation" data-md-component="logo">
      
  <img src="../images/favicon.ico" alt="logo">

    </a>
    MeshCentral Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Ylianst/MeshCentral" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    Ylianst/MeshCentral
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Home
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Abstract
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Install
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Install
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/abstract/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Abstract
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/quickstart/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Quickstart
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Installation Guides
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Installation Guides
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/abstract/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Abstract
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/advanced/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Container (Docker)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/windows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Databases
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Databases
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/database/mongodb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MongoDB
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/database/postgresql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    PostgreSQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/database/mariadb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MariaDB/MySQL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/database/local/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Local Databases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Security
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/security/crowdsec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Crowdsec
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../install/security/secure/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Secure Installation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    MeshCentral
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    MeshCentral
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MeshCentral Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/config/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    All Configuration Options
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/SSLnletsencrypt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SSL/TLS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/agents/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Agent Information
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/assistant/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Assistant
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/codesigning/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Code Signing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/debugging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Debugging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/devicetabs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Device Tabs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/plugins/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Plugins
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/security/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/tokens/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tokens
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/faq/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    FAQ
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/tipsntricks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tips n Tricks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../messaging/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Messaging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/customization/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Customization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshcentral/openidConnectStrategy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    OpenID Connect Strategy (OIDC)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Submodules and Features
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Submodules and Features
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    MeshCmd
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    MeshCmd
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#video-walkthru" class="md-nav__link">
    <span class="md-ellipsis">
      
        üé¨ Video Walkthru
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abstract" class="md-nav__link">
    <span class="md-ellipsis">
      
        üßæ Abstract
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìò Introduction
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meshcentral-tcp-port-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîå MeshCentral TCP port mapping
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meshcommander" class="md-nav__link">
    <span class="md-ellipsis">
      
        üß≠ MeshCommander
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üß≠ MeshCommander">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-meshcommander-local-web-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. MeshCommander local web server
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-lms-meshcommander" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. LMS &amp; MeshCommander
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-meshcommander-for-firmware" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. MeshCommander for firmware
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intel-amt-state-activation" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîß Intel AMT state &amp; activation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intel-amt-audit-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìã Intel AMT Audit Log
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-intel-amt-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        üíª Running Intel AMT script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ide-redirection" class="md-nav__link">
    <span class="md-ellipsis">
      
        ‚û°Ô∏è IDE Redirection
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#video-walkthru_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        üé¨ Video Walkthru
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        üèÅ Conclusion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      
        License
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshctrl/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MeshCtrl
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../meshrouter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mesh Router
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../intelamt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Intel AMT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../how-to-contribute/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    How to Contribute
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Design and Architecture
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Other
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Other
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../other/adfs_sso_guide/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADFS SSO Guide
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../other/meshcentral_satellite/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MeshCentral Satellite
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#video-walkthru" class="md-nav__link">
    <span class="md-ellipsis">
      
        üé¨ Video Walkthru
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abstract" class="md-nav__link">
    <span class="md-ellipsis">
      
        üßæ Abstract
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduction" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìò Introduction
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meshcentral-tcp-port-mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîå MeshCentral TCP port mapping
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#meshcommander" class="md-nav__link">
    <span class="md-ellipsis">
      
        üß≠ MeshCommander
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="üß≠ MeshCommander">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-meshcommander-local-web-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. MeshCommander local web server
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-lms-meshcommander" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. LMS &amp; MeshCommander
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-meshcommander-for-firmware" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. MeshCommander for firmware
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intel-amt-state-activation" class="md-nav__link">
    <span class="md-ellipsis">
      
        üîß Intel AMT state &amp; activation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#intel-amt-audit-log" class="md-nav__link">
    <span class="md-ellipsis">
      
        üìã Intel AMT Audit Log
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#running-intel-amt-script" class="md-nav__link">
    <span class="md-ellipsis">
      
        üíª Running Intel AMT script
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ide-redirection" class="md-nav__link">
    <span class="md-ellipsis">
      
        ‚û°Ô∏è IDE Redirection
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#video-walkthru_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        üé¨ Video Walkthru
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      
        üèÅ Conclusion
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      
        License
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="meshcmd">MeshCmd</h1>
<hr />
<p>Access the official MeshCmd user guide in your preferred format</p>
<blockquote>
<ul>
<li><a href="https://meshcentral.com/docs/MeshCmdUserGuide.pdf">üìÑ PDF version</a></li>
<li><a href="../documents/MeshCmd%20User%27s%20Guide%20v0.0.3.odt">üìù ODT version</a></li>
</ul>
</blockquote>
<hr />
<h2 id="video-walkthru">üé¨ Video Walkthru</h2>
<div class="video-wrapper">
  <iframe width="320" height="180" src="https://www.youtube.com/embed/AzdKyzqmpIs" frameborder="0" allowfullscreen></iframe>
</div>

<p><img alt="" src="images/2022-05-15-15-11-39.png" /></p>
<h2 id="abstract">üßæ Abstract</h2>
<p>This user guide contains all essential information for the user to make full use of MeshCmd, a command line tool used to perform tasks on MeshCentral and for Intel¬Æ AMT. This tool run on Windows and Linux and perform a wide array of different tasks. From routing traffic over the Internet to activating Intel AMT, MeshCmd is a great do it all tool for computer management. </p>
<h2 id="introduction">üìò Introduction</h2>
<p>MeshCmd, called ‚ÄúMesh Command‚Äù, is a command line tool that runs on both Windows and Linux and used to perform many tasks related to computer management. As the tool continues to evolve, it will continue to be improved and acquire more features.</p>
<p>Broadly, the tool is intended to perform three sets of tasks : </p>
<ul>
<li>
<p><code>MeshCentral2 command line operations</code></p>
<blockquote>
<p>There are command line operations that relate to interacting with the MeshCentral2 server. A good example of this is to route traffic from your computer to a remote computer on the internet thru a MeshCentral2 server. </p>
</blockquote>
</li>
<li>
<p><code>Intel AMT local actions</code></p>
<blockquote>
<p>If you happen to have Intel AMT on your computer, MeshCmd can take a look at the version and activation status, activate and de-activate Intel AMT and help with getting access to Intel AMT and more. </p>
</blockquote>
</li>
<li>
<p><code>Intel AMT remote actions</code></p>
<blockquote>
<p>Whether you have Intel AMT on your local computer or a remote computer on your network, MeshCmd can help unlock the features Intel AMT provides. From getting the state of Intel AMT remotely to running configuration scripts and loading MeshCommander into Intel AMT web storage. </p>
</blockquote>
</li>
</ul>
<p>To get started, you need to download MeshCmd for your computer. MeshCmd is a single file executable that you can get on MeshCommander.com at: <a href="http://www.meshcommander.com/meshcommander/meshcmd">http://www.meshcommander.com/meshcommander/meshcmd</a>  </p>
<p><img alt="" src="images/2022-05-15-15-21-12.png" />
If you have access to a MeshCentral2 server, the download link to MeshCmd is at the bottom left of the main device page. </p>
<p><img alt="" src="images/2022-05-15-15-22-07.png" /></p>
<p>Once you click on the <code>MeshCmd</code> link, a dialog box will allow you to select the operating system you want to get a link to MeshCmd. MeshCentral will also provide an action file called meshaction.txt that contains information on how MeshCmd can connect back to that MeshCentral server. This is optional, and only used for some operations. </p>
<p>Once downloaded, just run it from the command prompt or terminal window. </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\T</span>emp&gt;meshcmd
MeshCentral<span class="w"> </span>Command<span class="w"> </span><span class="o">(</span>MeshCmd<span class="o">)</span>
No<span class="w"> </span>action<span class="w"> </span>specified,<span class="w"> </span>use<span class="w"> </span>MeshCmd<span class="w"> </span>like<span class="w"> </span>this:

<span class="w">  </span>meshcmd<span class="w"> </span><span class="o">[</span>action<span class="o">]</span><span class="w"> </span><span class="o">[</span>arguments...<span class="o">]</span>

Valid<span class="w"> </span>MeshCentral<span class="w"> </span>actions:
<span class="w">  </span>Route<span class="w">             </span>-<span class="w"> </span>Map<span class="w"> </span>a<span class="w"> </span><span class="nb">local</span><span class="w"> </span>TCP<span class="w"> </span>port<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>remote<span class="w"> </span>computer.

Valid<span class="w"> </span><span class="nb">local</span><span class="w"> </span>actions:
<span class="w">  </span>SMBios<span class="w">            </span>-<span class="w"> </span>Display<span class="w"> </span>System<span class="w"> </span>Management<span class="w"> </span>BIOS<span class="w"> </span>tables<span class="w"> </span><span class="k">for</span><span class="w"> </span>this<span class="w"> </span>computer.
<span class="w">  </span>RawSMBios<span class="w">         </span>-<span class="w"> </span>Display<span class="w"> </span>RAW<span class="w"> </span>System<span class="w"> </span>Management<span class="w"> </span>BIOS<span class="w"> </span>tables<span class="w"> </span><span class="k">for</span><span class="w"> </span>this<span class="w"> </span>computer.
<span class="w">  </span>MicroLMS<span class="w">          </span>-<span class="w"> </span>Run<span class="w"> </span>MicroLMS,<span class="w"> </span>allowing<span class="w"> </span><span class="nb">local</span><span class="w"> </span>access<span class="w"> </span>to<span class="w"> </span>Intel<span class="w"> </span>AMT.
<span class="w">  </span>AmtInfo<span class="w">           </span>-<span class="w"> </span>Show<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>version<span class="w"> </span>and<span class="w"> </span>activation<span class="w"> </span>state.
<span class="w">  </span>AmtVersions<span class="w">       </span>-<span class="w"> </span>Show<span class="w"> </span>all<span class="w"> </span>Intel<span class="w"> </span>ME<span class="w"> </span>version<span class="w"> </span>information.
<span class="w">  </span>AmtHashes<span class="w">         </span>-<span class="w"> </span>Show<span class="w"> </span>all<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>trusted<span class="w"> </span>activation<span class="w"> </span>hashes.
<span class="w">  </span>AmtCCM<span class="w">            </span>-<span class="w"> </span>Activate<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>into<span class="w"> </span>Client<span class="w"> </span>Control<span class="w"> </span>Mode.
<span class="w">  </span>AmtACM<span class="w">            </span>-<span class="w"> </span>Activate<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>into<span class="w"> </span>Admin<span class="w"> </span>Control<span class="w"> </span>Mode.
<span class="w">  </span>AmtDeactivate<span class="w">     </span>-<span class="w"> </span>Deactivate<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span><span class="k">if</span><span class="w"> </span>activated<span class="w"> </span><span class="k">in</span><span class="w"> </span>Client<span class="w"> </span>Control<span class="w"> </span>mode.
<span class="w">  </span>AmtAcmDeactivate<span class="w">  </span>-<span class="w"> </span>Deactivate<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span><span class="k">if</span><span class="w"> </span>activated<span class="w"> </span><span class="k">in</span><span class="w"> </span>Admin<span class="w"> </span>Control<span class="w"> </span>mode.

Valid<span class="w"> </span><span class="nb">local</span><span class="w"> </span>or<span class="w"> </span>remote<span class="w"> </span>actions:
<span class="w">  </span>MeshCommander<span class="w">     </span>-<span class="w"> </span>Launch<span class="w"> </span>a<span class="w"> </span><span class="nb">local</span><span class="w"> </span>MeshCommander<span class="w"> </span>web<span class="w"> </span>server.
<span class="w">  </span>AmtUUID<span class="w">           </span>-<span class="w"> </span>Show<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>unique<span class="w"> </span>identifier.
<span class="w">  </span>AmtAuditLog<span class="w">       </span>-<span class="w"> </span>Show<span class="w"> </span>the<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>audit<span class="w"> </span>log.
<span class="w">  </span>AmtLoadWebApp<span class="w">     </span>-<span class="w"> </span>Load<span class="w"> </span>MeshCommander<span class="w"> </span><span class="k">in</span><span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span><span class="m">11</span>.6+<span class="w"> </span>firmware.
<span class="w">  </span>AmtClearWebApp<span class="w">    </span>-<span class="w"> </span>Clear<span class="w"> </span>everything<span class="w"> </span>from<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>web<span class="w"> </span>storage.
<span class="w">  </span>AmtStorageState<span class="w">   </span>-<span class="w"> </span>Show<span class="w"> </span>contents<span class="w"> </span>of<span class="w"> </span>the<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>web<span class="w"> </span>storage.
<span class="w">  </span>AmtSaveState<span class="w">      </span>-<span class="w"> </span>Save<span class="w"> </span>all<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>WSMAN<span class="w"> </span>object<span class="w"> </span>to<span class="w"> </span>file.
<span class="w">  </span>AmtPresence<span class="w">       </span>-<span class="w"> </span>Heartbeat<span class="w"> </span>a<span class="w"> </span><span class="nb">local</span><span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>watchdog<span class="w"> </span>agent.
<span class="w">  </span>AmtScript<span class="w">         </span>-<span class="w"> </span>Run<span class="w"> </span>.mescript<span class="w"> </span>on<span class="w"> </span>Intel<span class="w"> </span>AMT.
<span class="w">  </span>AmtIDER<span class="w">           </span>-<span class="w"> </span>Mount<span class="w"> </span><span class="nb">local</span><span class="w"> </span>disk<span class="w"> </span>image<span class="w"> </span>to<span class="w"> </span>remote<span class="w"> </span>computer.

Help<span class="w"> </span>on<span class="w"> </span>a<span class="w"> </span>specific<span class="w"> </span>action<span class="w"> </span>using:

<span class="w">  </span>meshcmd<span class="w"> </span><span class="nb">help</span><span class="w"> </span><span class="o">[</span>action<span class="o">]</span>
</code></pre></div>
<p>By default you will get the help screen with all of the different actions you can take with the tool. You can also get help by typing <code>help</code> followed by the action name. In this document we will cover the main actions that MeshCmd can perform. If you don‚Äôt use Intel AMT at all, then only the MeshCentral actions are interesting for you. If you use Intel AMT, the rest of the actions will be of interest to you. </p>
<h2 id="meshcentral-tcp-port-mapping">üîå MeshCentral TCP port mapping</h2>
<p>MeshCmd can map a TCP port from your local computer to any remote port on any computer with one of your MeshAgents installed. This port mapping will work over a local network or the Internet and should work even thru proxies and firewalls. </p>
<p>In order to start using MeshCmd in this way, you first need to have access to a MeshCentral server and at least one computer you already manage. TCP port mapping works by selecting a port on your local computer that will be routed to a remote device and port. Here, local port 123 is routed thru the server to port 123 on a remote device. </p>
<p><img alt="" src="images/2022-05-15-15-23-45.png" /></p>
<p>Of course, this picture is a bit simplify. Firewalls, NAT routers and HTTP proxies may be in the way and the MeshAgent on the remote computer will act at the TCP traffic relay in most cases. </p>
<p>One typical use of this is to route local port <code>1234</code> to port Microsoft RDP port 3389 on a remote device. Once routed, you can start a RDP session on <code>localhost:1234</code> and get a RDP session to the remote device. The RDP protocol is feature rich and efficient, so you get a great user experience regardless of where in the world the remote computer is at. </p>
<p>To get started, click on a device in MeshCentral and click on the <code>Router</code> link on the bottom left of the device page.  </p>
<p><img alt="" src="images/2022-05-15-15-24-12.png" /></p>
<p>You can download MeshCmd is you have not done so already, but more importantly, download the action.txt file. The file is in text format and contain something like this : </p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w"> </span><span class="nt">&quot;action&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;route&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;localPort&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1234</span><span class="p">,</span><span class="w">             </span><span class="err">ÔÉü</span><span class="w"> </span><span class="err">Cha</span><span class="kc">n</span><span class="err">ge</span><span class="w"> </span><span class="kc">t</span><span class="err">his</span>
<span class="w"> </span><span class="nt">&quot;remoteName&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AmtMachine7&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;remoteNodeId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;node//@yw$s5jLUivpzZ49laprt4T0sBaOKImbDAiniothQwccZPukCB696$BvPWAW0Bg2&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;remotePort&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3389</span><span class="p">,</span><span class="w">                </span><span class="err">ÔÉü</span><span class="w"> </span><span class="err">Cha</span><span class="kc">n</span><span class="err">ge</span><span class="w"> </span><span class="kc">t</span><span class="err">his</span>
<span class="w"> </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;admin&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;&quot;</span><span class="p">,</span><span class="w">                </span><span class="err">ÔÉü</span><span class="w"> </span><span class="err">No</span><span class="kc">te</span><span class="w"> </span><span class="kc">t</span><span class="err">ha</span><span class="kc">t</span><span class="w"> </span><span class="kc">t</span><span class="err">he</span><span class="w"> </span><span class="err">password</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">emp</span><span class="kc">t</span><span class="err">y</span>
<span class="w"> </span><span class="nt">&quot;serverId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;D99362D5ED8BAEA8BF9E743B34B242256370C460FD66CB62373C6CFCB204D6D70</span>
<span class="s2">7403E396CF0EF6DC2B3A42F735135FD&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;serverHttpsHash&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;D9DE9E27A229B5355708A3672FB23237CC994A680B3570D242A91E36B4AE5BC</span>
<span class="s2">96539E59746E2B71EEF3DBDABBF2AE138&quot;</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;debugLevel&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w"> </span><span class="nt">&quot;serverUrl&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;wss://devbox.mesh.meshcentral.com:443/meshrelay.ashx&quot;</span>
<span class="p">}</span>
</code></pre></div>
<p>The action file contains almost all the parameters needed to perform the route. It indicates the local and remote ports, the remote computer unique identifier, server location and authentication information and more. You can just put the action file in the same folder as MeshCmd and run MeshCmd, it will automatically pick up the arguments from the meshaction.txt file. </p>
<p>You may want to change the local and remote port in the action file to suite your needs. By default, the Microsoft RDP port is the target. If the password is not specified in the <code>meshaction.txt</code> file, you can also specify it as a meshcmd argument. </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>--pass<span class="w"> </span>xxxxxxxx<span class="w"> </span>
Redirecting<span class="w"> </span><span class="nb">local</span><span class="w"> </span>port<span class="w"> </span><span class="m">1234</span><span class="w"> </span>to<span class="w"> </span>AmtMachine7:3389.<span class="w"> </span>Press<span class="w"> </span>ctrl-c<span class="w"> </span>to<span class="w"> </span>exit.<span class="w"> </span>
Now,<span class="w"> </span>the<span class="w"> </span>traffic<span class="w"> </span>router<span class="w"> </span>is<span class="w"> </span>ready.<span class="w"> </span>You<span class="w"> </span>can<span class="w"> </span>now<span class="w"> </span>RDP<span class="w"> </span>to<span class="w"> </span>localhost:1234<span class="w"> </span>and<span class="w"> </span>login<span class="w"> </span>to<span class="w"> </span>the<span class="w"> </span>remote<span class="w"> </span>computer.<span class="w"> </span>
</code></pre></div>
<h2 id="meshcommander">üß≠ MeshCommander</h2>
<p>MeshCommander is a web based Intel AMT management console. MeshCmd has no less then three different versions of MeshCommander built-in, so if you are using Intel AMT, it‚Äôs worth a moment to get some knowledge about MeshCommander which is available as a standalone tool along with a full user‚Äôs guide at:<a href="http://www.meshcommander.com/">http://www.meshcommander.com/</a>and also included as part of MeshCentral. </p>
<p>The three versions included in MeshCmd are : </p>
<ul>
<li><strong>MeshCommander as a local web server</strong>. </li>
<li><strong>MeshCommander for LMS</strong> .</li>
<li><strong>MeshCommander for firmware</strong>. </li>
</ul>
<p>In this section, we review the three versions, how they are used and what can be done with them. </p>
<h3 id="1-meshcommander-local-web-server">1. MeshCommander local web server</h3>
<p>You can start MeshCommander on a local web server by typing <code>meshcmd meshcommander</code>. By default, local port <code>3000</code> is used, but you can optionally specify the port using <code>--localport [port]</code>. Running it with look like this: </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>meshcommander
MeshCommander<span class="w"> </span>running<span class="w"> </span>on<span class="w"> </span>HTTP<span class="w"> </span>port<span class="w"> </span><span class="m">3000</span>.<span class="w"> </span>Ctrl-C<span class="w"> </span>to<span class="w"> </span>exit.<span class="w"> </span>
</code></pre></div>
<p>Once running, use a web browser and go to <code>http://localhost:3000</code> to see the MeshCommander web page. The page will start out without any computers in it and you will have to add some. </p>
<p><img alt="" src="images/2022-05-15-15-27-41.png" /></p>
<p>In this mode, the local computers that are added will be stored in the browser‚Äôs storage cache. So, clearing the browser‚Äôs cache will also clear the list of computers. You can however load and save the list of computers using the <code>Open‚Ä¶</code> and <code>Save‚Ä¶</code> buttons. This version of MeshCommander will have some limitations when compared to the full version installed using the <em>Windows .MSI installer</em>. Notably : </p>
<ul>
<li>No certificate management or validation. </li>
<li>Mutual-Authenticated TLS is not supported. </li>
<li>Kerberos authentication is not supported. </li>
<li>IDE-R is not supported. </li>
</ul>
<p>This said, features like KVM, Terminal and most Intel AMT configuration options are available which makes this a fairly powerful Intel AMT management console.</p>
<p>You can run MeshCommander as a background server on both Windows and Linux. To do this, use the install, uninstall, start and stop commands like this: </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>meshcommander<span class="w"> </span>install
Installing<span class="w"> </span>to<span class="w"> </span><span class="s2">&quot;C:\Program Files (x86)\Open Source\MeshCmd\MeshCommander.exe&quot;</span><span class="w"> </span>MeshCommander<span class="w"> </span>installed.
</code></pre></div>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>meshcommander<span class="w"> </span>start
MeshCommander<span class="w"> </span>starting.
</code></pre></div>
<p>On Linux computers, both systemd and initd are supported. When installing, the MeshCmd executable will be copied to a different installation folder. </p>
<h3 id="2-lms-meshcommander">2. LMS &amp; MeshCommander</h3>
<p>The Layered Management Service (LMS) is a background process that runs in the operating system and provides local OS access to Intel AMT. More specifically, it redirects local TCP ports <code>16992</code> and <code>16993</code> to Intel AMT thru the MEI driver. One way to check if the LMS service is installed on your computer is to try <em><a href="http://localhost:16992/">http://localhost:16992</a></em> or <em><a href="https://localhost:16993/">https://localhost:16993</a></em> in a browser. A page should generally show up. </p>
<blockquote>
<p><strong>üìå Note :</strong></p>
<p>On Windows, LMS is a Windows service that must be downloaded and installed as part of the OEM drivers for a computer.</p>
<p>On Linux, it‚Äôs generally never installed and users normally have to download the source code and compile it themselves.</p>
</blockquote>
<hr />
<p>MeshCmd has its own LMS implementation, so is LMS is not installed it will automatically use its own internal one. In addition, you can run MicroLMS alone by typing the following list while running as root or local administrator: </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>microlms
MicroLMS<span class="w"> </span>started,<span class="w"> </span>MeshCommander<span class="w"> </span>on<span class="w"> </span>HTTP/16994.<span class="w"> </span>
</code></pre></div>
<p>This will start MicroLMS and as indicated, start MeshCommander on local port <code>16994</code> at the same time.</p>
<p>In total, traffic redirection looks like this : </p>
<p><img alt="" src="images/2022-05-15-15-30-02.png" /></p>
<p>In addition to providing normal services, MicroLMS that is part of MeshCmd will also start a web server on port <code>16994</code> and allow a browser to access LMS MeshCommander, a special version of MeshCommander specially made to run in this situation. </p>
<p>MeshCommander for LMS will show up even if the computer has Intel AMT un-configured and offer the user the choice to activate Intel AMT and perform configuration actions. In the following screen, we see a computer activated in Client Control Mode.</p>
<p>Because it‚Äôs in this mode, you can use the web interface to de-activate Intel AMT or login to perform additional configuration. </p>
<p><img alt="" src="images/2022-05-15-15-30-41.png" /></p>
<p>MicroLMS along with MeshCommander for LMS is very useful, especially on Linux as it offers a single tool to setup and configuration Intel AMT. If you wish you run MicroLMS without MeshCommander being available on port 16994, run MeshCmd with <code>--noconsole</code>: </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>microlms<span class="w"> </span>--noconsole
MicroLMS<span class="w"> </span>started.<span class="w"> </span>
</code></pre></div>
<p>You can run MicroLMS as a background server on both Windows and Linux. To do this, use the MicroLMS install, uninstall, start and stop commands like this : </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>microlms<span class="w"> </span>install
Installing<span class="w"> </span>to<span class="w"> </span><span class="s2">&quot;C:\Program Files (x86)\Open Source\MeshCmd\MicroLMS.exe&quot;</span><span class="w"> </span>
MicroLMS<span class="w"> </span>installed.<span class="w"> </span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>microlms<span class="w"> </span>start
MicroLMS<span class="w"> </span>starting.<span class="w"> </span>
</code></pre></div>
<p>On Linux computers, both systemd and initd are supported. When installing, the MeshCmd executable will be copied to a different installation folder. </p>
<h3 id="3-meshcommander-for-firmware">3. MeshCommander for firmware</h3>
<p>MeshCmd also includes a surprising version of MeshCommander, the one you can load into the firmware of Intel AMT. Starting with Intel AMT 11.6, you can push into the small ~190k storage space of Intel AMT a replacement to the index.htm page served by the firmware on port <code>16992</code> &amp; <code>16993</code>. In the following picture, the left side is the original Intel AMT web page, the right is the replaced MeshCommander built to go in firmware. </p>
<p><img alt="" src="images/2022-05-15-15-32-15.png" /></p>
<p>The firmware version of MeshCommander has support for remote desktop, terminal and all sorts of Intel AMT usages and configuration. Probably the most surprising is that this entire page is between 40k and 100k depending on the version you select. It‚Äôs notable that with MeshCommander loaded into Intel AMT firmware, one does not need any other tool except for a browser to perform most Intel AMT maintenance operations. </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtloadwebapp<span class="w"> </span>--host<span class="w"> </span><span class="m">192</span>.168.2.144<span class="w"> </span>--pass<span class="w"> </span>xxxxxxxx
Uploading<span class="w"> </span>MeshCommander...
Verifying<span class="w"> </span>MeshCommander...
Done.
</code></pre></div>
<p>To get the current state of Intel AMT web storage, type this : </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtstoragestate<span class="w"> </span>--host<span class="w"> </span><span class="m">192</span>.168.2.144<span class="w"> </span>--pass<span class="w"> </span>xxxxxxxx
Storage<span class="w"> </span>State:<span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;information&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;version&quot;</span>:<span class="w"> </span><span class="m">1</span>,
<span class="w">    </span><span class="s2">&quot;realms&quot;</span>:<span class="w"> </span><span class="m">7765759</span>,
<span class="w">    </span><span class="s2">&quot;user&quot;</span>:<span class="w"> </span><span class="s2">&quot;admin&quot;</span>
<span class="w">  </span><span class="o">}</span>,
<span class="w">  </span><span class="s2">&quot;content&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;index.htm&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;size&quot;</span>:<span class="w"> </span><span class="m">57246</span><span class="w">     </span>ÔÉü<span class="w"> </span>Replacement<span class="w"> </span>index.htm<span class="w"> </span>with<span class="w"> </span>size.
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<p>Here, a 57k index.htm replacement is present in the Intel AMT flash. You can clear the web storage, revering the web page back to the original like this: </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtclearwebapp<span class="w"> </span>--host<span class="w"> </span><span class="m">192</span>.168.2.144<span class="w"> </span>--pass<span class="w"> </span>xxxxxxxx
Done.
</code></pre></div>
<p>When MeshCommander is loaded into Intel AMT, you can access it from a different computer using <em><a href="http://computername:16992/">http://computername:16992 </a></em> or <em><a href="https://computername:16993/">https://computername:16993</a></em> You will need to authenticate first before getting access to the web page. </p>
<h2 id="intel-amt-state-activation">üîß Intel AMT state &amp; activation</h2>
<p>MeshCmd can easily be used to read the local state of the computer and Intel AMT. There are many commands available to do this. The <code>SMBios</code> action works on most computers and is used to get basic information about your current system. The output is JSON format. </p>
<div class="highlight"><pre><span></span><code><span class="err">C</span><span class="p">:</span><span class="err">\MeshCmd&gt;meshcmd</span><span class="w"> </span><span class="err">smbios</span>
<span class="p">{</span>
<span class="w">  </span><span class="err">processorI</span><span class="kc">nf</span><span class="err">o</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="mi">0</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="err">Processor</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CPU&quot;</span>
<span class="w">      </span><span class="err">MaxSpeed</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;3800 Mhz&quot;</span>
<span class="w">      </span><span class="err">Cores</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span>
<span class="w">      </span><span class="err">Threads</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span>
<span class="w">      </span><span class="err">Popula</span><span class="kc">te</span><span class="err">d</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span>
<span class="w">      </span><span class="err">S</span><span class="kc">tatus</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Enabled&quot;</span>
<span class="w">      </span><span class="err">Socke</span><span class="kc">t</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;CPU 1&quot;</span>
<span class="w">      </span><span class="err">Ma</span><span class="kc">nufa</span><span class="err">c</span><span class="kc">turer</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Intel(R) Corporation&quot;</span>
<span class="w">      </span><span class="err">Versio</span><span class="kc">n</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Intel(R) Core(TM) i7-3770 CPU @ 3.40GHz&quot;</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="err">memoryI</span><span class="kc">nf</span><span class="err">o</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">loca</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;System Board&quot;</span>
<span class="w">    </span><span class="err">maxCapaci</span><span class="kc">t</span><span class="err">yKb</span><span class="p">:</span><span class="w"> </span><span class="mi">33554432</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="err">sys</span><span class="kc">te</span><span class="err">mI</span><span class="kc">nf</span><span class="err">o</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">uuid</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;C57B83D9A94E11E18BA1505054503030&quot;</span>
<span class="w">    </span><span class="err">wakeReaso</span><span class="kc">n</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Power Switch&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="err">sys</span><span class="kc">te</span><span class="err">mSlo</span><span class="kc">ts</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">uuid</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;C57B83D9A94E11E18BA1505054503030&quot;</span>
<span class="w">    </span><span class="err">wakeReaso</span><span class="kc">n</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Power Switch&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="err">am</span><span class="kc">t</span><span class="err">I</span><span class="kc">nf</span><span class="err">o</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="err">AMT</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="err">e</span><span class="kc">na</span><span class="err">bled</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="err">s</span><span class="kc">t</span><span class="err">orageRedirec</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="err">serialOverLa</span><span class="kc">n</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="err">kvm</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="err">TXT</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="err">VMX</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="err">MEBX</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;66.0.0.8&quot;</span>
<span class="w">    </span><span class="err">Ma</span><span class="kc">na</span><span class="err">geme</span><span class="kc">nt</span><span class="err">E</span><span class="kc">n</span><span class="err">gi</span><span class="kc">ne</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;8.1.0.57353&quot;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>If you have Intel AMT on your system, you can use the <code>amtinfo</code>, <code>amtversions</code> and <code>amthashes</code> to get lots of information about Intel AMT current state. These commands use the Intel AMT MEI driver to get this information and require MeshCmd be run as root or administrator : </p>
<blockquote>
<p><code>meshcmd amtinfo</code>
  <div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtinfo
Intel<span class="w"> </span>AMT<span class="w"> </span>v8.1.71,<span class="w"> </span>activated<span class="w"> </span><span class="k">in</span><span class="w"> </span>client<span class="w"> </span>control<span class="w"> </span>mode.
Wired<span class="w"> </span>Enabled,<span class="w"> </span>DHCP,<span class="w"> </span><span class="m">00</span>:1E:8C:F5:4F:ED,<span class="w"> </span><span class="m">192</span>.168.2.10.
</code></pre></div></p>
<p><code>meshcmd amtversions</code>
  <div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtversions
MEI<span class="w"> </span><span class="nv">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>MKQ7710H.86A.0072.2017.0519.1347
<span class="nv">Flash</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span>.1.71
<span class="nv">Netstack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span>.1.71
<span class="nv">AMTApps</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span>.1.71
<span class="nv">AMT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span>.1.71
<span class="nv">Sku</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">24584</span>
<span class="nv">VendorID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8086</span>
Build<span class="w"> </span><span class="nv">Number</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3608</span>
Recovery<span class="w"> </span><span class="nv">Version</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">8</span>.1.71
Recovery<span class="w"> </span>Build<span class="w"> </span><span class="nv">Num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">3608</span>
Legacy<span class="w"> </span><span class="nv">Mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span>False
</code></pre></div></p>
<p><code>meshcmd amthashes</code>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amthashes
VeriSign<span class="w"> </span>Class<span class="w"> </span><span class="m">3</span><span class="w"> </span>Primary<span class="w"> </span>CA-G1,<span class="w"> </span><span class="o">(</span>Default,<span class="w"> </span>Active<span class="o">)</span>
<span class="w">  </span>SHA256:<span class="w"> </span>E7685634EFACF69ACE939A6B255B7B4FABEF42935B50A265ACB5CB6027E44E70
VeriSign<span class="w"> </span>Class<span class="w"> </span><span class="m">3</span><span class="w"> </span>Primary<span class="w"> </span>CA-G3,<span class="w"> </span><span class="o">(</span>Default,<span class="w"> </span>Active<span class="o">)</span>
<span class="w">  </span>SHA256:<span class="w"> </span>EB04CF5EB1F39AFA762F2BB120F296CBA520C1B97DB1589565B81CB9A17B7244
‚Ä¶
</code></pre></div></p>
</blockquote>
<p>In addition to getting Intel AMT state, MeshCmd can activate Intel AMT in client control mode (CCM) and de-activate Intel AMT if it‚Äôs in this mode. Doing this is very simple, starting with Intel AMT not being activated, you use the <code>amtccm</code> and <code>amtdeactivate</code> actions. </p>
<blockquote>
<p><code>meshcmd amtinfo</code>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtinfo
Intel<span class="w"> </span>AMT<span class="w"> </span>v8.1.71,<span class="w"> </span>pre-provisioning<span class="w"> </span>state.
</code></pre></div>
<code>meshcmd amtccm --pass xxxxxxxx</code>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtccm<span class="w"> </span>--pass<span class="w"> </span>xxxxxxxx
Success
</code></pre></div>
<code>meshcmd amtinfo</code>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtinfo
Intel<span class="w"> </span>AMT<span class="w"> </span>v8.1.71,<span class="w"> </span>activated<span class="w"> </span><span class="k">in</span><span class="w"> </span>client<span class="w"> </span>control<span class="w"> </span>mode.
</code></pre></div>
<code>meshcmd amtdeactivate</code>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtdeactivate
Success
</code></pre></div></p>
</blockquote>
<hr />
<blockquote>
<p><strong>üìå Note :</strong></p>
<p>Note that when using the <code>amtccm</code> action, you need to provide a password that will be used for authentication into Intel AMT. This password must be strong with at least 8 characters including a lower case, an uppercase, a numeric value and a non-alpha-numeric value.</p>
</blockquote>
<hr />
<h2 id="intel-amt-audit-log">üìã Intel AMT Audit Log</h2>
<p>One very useful feature of MeshCmd is its ability to fetch the Intel AMT audit log. This can be valuable when doing forensics on a computer or just trying figure out what is being done thru Intel AMT. MeshCmd can pull the audit log on a local computer without any credentials, as long as it‚Äôs running as root or administrator, or pull the audit log remotely if usual credentials are provided. </p>
<p><img alt="" src="images/2022-05-15-15-37-16.png" /></p>
<p>The Intel AMT audit log will show when a computer‚Äôs Intel AMT was activated, when remote desktop sessions where initiated and more. To get the local audit log, just use the ‚ÄúAmtAuditLog‚Äù action. </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtauditlog
<span class="m">2004</span>-01-01<span class="w"> </span><span class="m">19</span>:17:58.000-08:00<span class="w"> </span>-<span class="w"> </span>Local:<span class="w"> </span>Provisioning<span class="w"> </span>Started
<span class="m">2018</span>-01-26<span class="w"> </span><span class="m">14</span>:03:16.000-08:00<span class="w"> </span>-<span class="w"> </span>Local:<span class="w"> </span>Unprovisioning<span class="w"> </span>Started
<span class="m">2018</span>-01-26<span class="w"> </span><span class="m">14</span>:03:31.000-08:00<span class="w"> </span>-<span class="w"> </span>Local:<span class="w"> </span>Provisioning<span class="w"> </span>Started
<span class="m">2018</span>-02-01<span class="w"> </span><span class="m">12</span>:13:14.000-08:00<span class="w"> </span>-<span class="w"> </span>admin:<span class="w"> </span>KVM<span class="w"> </span>Enabled
<span class="m">2018</span>-02-01<span class="w"> </span><span class="m">12</span>:16:01.000-08:00<span class="w"> </span>-<span class="w"> </span>admin:<span class="w"> </span>KVM<span class="w"> </span>Session<span class="w"> </span>Started
<span class="m">2018</span>-02-01<span class="w"> </span><span class="m">12</span>:16:07.000-08:00<span class="w"> </span>-<span class="w"> </span>admin:<span class="w"> </span>KVM<span class="w"> </span>Session<span class="w"> </span>Ended
<span class="m">2018</span>-02-02<span class="w"> </span><span class="m">10</span>:56:06.000-08:00<span class="w"> </span>-<span class="w"> </span>admin:<span class="w"> </span>KVM<span class="w"> </span>Session<span class="w"> </span>Started
<span class="m">2018</span>-02-02<span class="w"> </span><span class="m">10</span>:56:08.000-08:00<span class="w"> </span>-<span class="w"> </span>admin:<span class="w"> </span>KVM<span class="w"> </span>Session<span class="w"> </span>Ended
</code></pre></div>
<p>To get a remote audit log : </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtauditlog<span class="w"> </span>--host<span class="w"> </span><span class="m">192</span>.168.2.144<span class="w"> </span>--user<span class="w"> </span>admin<span class="w"> </span>--pass<span class="w"> </span>xxxxxxxx
<span class="m">2003</span>-12-31<span class="w"> </span><span class="m">23</span>:06:58.000-08:00<span class="w"> </span>-<span class="w"> </span><span class="nv">$$</span>OsAdmin:<span class="w"> </span>Intel<span class="o">(</span>r<span class="o">)</span><span class="w"> </span>ME<span class="w"> </span>Time<span class="w"> </span>Set
<span class="m">2017</span>-08-15<span class="w"> </span><span class="m">06</span>:53:31.000-07:00<span class="w"> </span>-<span class="w"> </span><span class="nv">$$</span>OsAdmin:<span class="w"> </span>Intel<span class="o">(</span>r<span class="o">)</span><span class="w"> </span>ME<span class="w"> </span>Time<span class="w"> </span>Set
<span class="m">2017</span>-10-13<span class="w"> </span><span class="m">17</span>:55:11.000-07:00<span class="w"> </span>-<span class="w"> </span>Local:<span class="w"> </span>Provisioning<span class="w"> </span>Started
<span class="m">2017</span>-10-13<span class="w"> </span><span class="m">17</span>:55:54.000-07:00<span class="w"> </span>-<span class="w"> </span>Local:<span class="w"> </span>Opt-In<span class="w"> </span>Policy<span class="w"> </span>Change
<span class="m">2017</span>-10-15<span class="w"> </span><span class="m">06</span>:44:38.000-07:00<span class="w"> </span>-<span class="w"> </span>admin:<span class="w"> </span>KVM<span class="w"> </span>Enabled
</code></pre></div>
<p>You can also save the audit log to file using the <code>--output</code> option. </p>
<h2 id="running-intel-amt-script">üíª Running Intel AMT script</h2>
<p>MeshCmd has a full WSMAN stack built-in and can be used to run <code>.mescript</code> file on a target Intel AMT computer. Script file are useful when you want to run a set of actions on one or more Intel AMT computers at once. You can build a .mescript file using the script editor within MeshCommander. </p>
<p>This script editor allows the user to drag &amp; drop script blocks, set parameters on each block and test the script against a connected Intel AMT computer. </p>
<p><img alt="" src="images/2022-05-15-15-39-40.png" /></p>
<p>In addition to building your own scripts, you can download a CIRA setup script from a MeshCentral server. When running this script, Intel AMT will be setup to call back to the server using an encrypted connection. This enables remote management of Intel AMT over the Internet. The CIRA setup script is available in the <code>Add CIRA</code> link for meshes that are Intel AMT only (no agent). </p>
<p><img alt="" src="images/2022-05-15-15-40-05.png" /></p>
<p>Once you got the script, run it with MeshCmd like this. You specify the host if it‚Äôs not localhost, the password and the script file. </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\M</span>eshCmd&gt;meshcmd<span class="w"> </span>amtscript<span class="w"> </span>--host<span class="w"> </span><span class="m">192</span>.168.2.106<span class="w"> </span>--pass<span class="w"> </span>xxxxxxxx<span class="w"> </span>--script<span class="w"> </span>cira_setup.mescript
Script<span class="w"> </span>Started
Policies<span class="w"> </span>removed<span class="w"> </span>successfully
Adding<span class="w"> </span>root<span class="w"> </span>certificate...
Management<span class="w"> </span>Presence<span class="w"> </span>Server<span class="w"> </span><span class="o">(</span>MPS<span class="o">)</span><span class="w"> </span>successfully<span class="w"> </span>added
Found<span class="w"> </span>matching<span class="w"> </span><span class="o">(</span>primary<span class="o">)</span><span class="w"> </span>mps:<span class="w"> </span>Intel<span class="o">(</span>r<span class="o">)</span><span class="w"> </span>AMT:Management<span class="w"> </span>Presence<span class="w"> </span>Server<span class="w"> </span><span class="m">0</span>
Setting<span class="w"> </span>policy...
Policy<span class="w"> </span>added<span class="w"> </span>successfully
Remote<span class="w"> </span>Access<span class="w"> </span>user<span class="w"> </span>interfaces<span class="w"> </span><span class="nb">set</span><span class="w"> </span>to:<span class="w"> </span>BIOS<span class="w"> </span><span class="p">&amp;</span><span class="w"> </span>OS<span class="w"> </span>Enabed
Parsing<span class="w"> </span>block<span class="w"> </span>parameters
Setting<span class="w"> </span>Environment<span class="w"> </span>Detection
Environment<span class="w"> </span>Detection<span class="w"> </span><span class="nb">set</span><span class="w"> </span>successfully
Script<span class="w"> </span>Completed
</code></pre></div>
<p>In this example, the CIRA setup script was run on a remote computer. After the script is run, the computer got configured and connected back to the server. MeshCentral show the new connection state for this computer. </p>
<p><img alt="" src="images/2022-05-15-15-41-20.png" /></p>
<h2 id="ide-redirection">‚û°Ô∏è IDE Redirection</h2>
<h2 id="video-walkthru_1">üé¨ Video Walkthru</h2>
<div class="video-wrapper">
  <iframe width="320" height="180" src="https://www.youtube.com/embed/iG73j7Toz1c" frameborder="0" allowfullscreen></iframe>
</div>

<p>MeshCmd has all the code needed to perform Intel AMT IDE Redirection from the command line. This allows disk images on the administrator‚Äôs computer to be remotely mounted to an Intel AMT computer. You need to start with a floppy disk .img file and/or an .iso CDROM file. </p>
<p><img alt="" src="images/2022-05-15-15-42-01.png" /></p>
<p>Then use the <code>AmtIDER</code> command of MeshCMD to start an IDER session. The help command for AmtIDER looks like this: </p>
<div class="highlight"><pre><span></span><code>C:<span class="se">\T</span>emp&gt;meshcmd<span class="w"> </span><span class="nb">help</span><span class="w"> </span>amtider
AmtIDER<span class="w"> </span>will<span class="w"> </span>mount<span class="w"> </span>a<span class="w"> </span><span class="nb">local</span><span class="w"> </span>disk<span class="w"> </span>images<span class="w"> </span>to<span class="w"> </span>a<span class="w"> </span>remote<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>computer.<span class="w"> </span>Example<span class="w"> </span>usage:

<span class="w">  </span>meshcmd<span class="w"> </span>amtider<span class="w"> </span>--host<span class="w"> </span><span class="m">1</span>.2.3.4<span class="w"> </span>--user<span class="w"> </span>admin<span class="w"> </span>--pass<span class="w"> </span>mypassword<span class="w"> </span>--tls<span class="w"> </span>--floppy<span class="w"> </span>disk.img<span class="w"> </span>--cdrom<span class="w"> </span>disk.iso

Possible<span class="w"> </span>arguments:

<span class="w">  </span>--host<span class="w"> </span><span class="o">[</span>hostname<span class="o">]</span><span class="w">      </span>The<span class="w"> </span>IP<span class="w"> </span>address<span class="w"> </span>or<span class="w"> </span>DNS<span class="w"> </span>name<span class="w"> </span>of<span class="w"> </span>Intel<span class="w"> </span>AMT.
<span class="w">  </span>--user<span class="w"> </span><span class="o">[</span>username<span class="o">]</span><span class="w">      </span>The<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>login<span class="w"> </span>username,<span class="w"> </span>admin<span class="w"> </span>is<span class="w"> </span>default.
<span class="w">  </span>--pass<span class="w"> </span><span class="o">[</span>password<span class="o">]</span><span class="w">      </span>The<span class="w"> </span>Intel<span class="w"> </span>AMT<span class="w"> </span>login<span class="w"> </span>password.
<span class="w">  </span>--tls<span class="w">                  </span>Specifies<span class="w"> </span>that<span class="w"> </span>TLS<span class="w"> </span>must<span class="w"> </span>be<span class="w"> </span>used.
<span class="w">  </span>--floppy<span class="w"> </span><span class="o">[</span>file<span class="o">]</span><span class="w">        </span>Specifies<span class="w"> </span>.img<span class="w"> </span>file<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>mounted<span class="w"> </span>as<span class="w"> </span>a<span class="w"> </span>flppy<span class="w"> </span>disk.
<span class="w">  </span>--cdrom<span class="w"> </span><span class="o">[</span>file<span class="o">]</span><span class="w">         </span>Specifies<span class="w"> </span>.img<span class="w"> </span>file<span class="w"> </span>to<span class="w"> </span>be<span class="w"> </span>mounted<span class="w"> </span>as<span class="w"> </span>a<span class="w"> </span>CDROM<span class="w"> </span>disk.
<span class="w">  </span>--timeout<span class="w"> </span><span class="o">[</span>seconds<span class="o">]</span><span class="w">    </span>Optional,<span class="w"> </span>disconnect<span class="w"> </span>after<span class="w"> </span>number<span class="w"> </span>of<span class="w"> </span>seconds<span class="w"> </span>without<span class="w"> </span>disk<span class="w"> </span>read.
</code></pre></div>
<p>The command is fairly simple. It takes as input a remote host, username/password for Intel AMT login, the disk images and TLS option. One can also specify the timeout option so that MeshCMD will automatically disconnect when no disk read operations are performed for a set number of seconds. </p>
<h2 id="conclusion">üèÅ Conclusion</h2>
<p>MeshCmd is a cross-platform command line tools that perform an ever-growing list of actions that are important for remote computer management. MeshCmd works alone or with MeshCentral and MeshCommander to offer a suite of free, opens source and powerful tools that work well together. </p>
<h2 id="license">License</h2>
<p>MeshCmd and this document are both opens source and licensed using Apache 2.0, the full license can be found at <a href="https://www.apache.org/licenses/LICENSE-2.0">https://www.apache.org/licenses/LICENSE-2.0</a> </p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["content.code.copy", "content.code.select", "navigation.tabs", "navigation.top", "navigation.sections", "navigation.instant", "search.suggest"], "search": "../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.79ae519e.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
    
  </body>
</html>